<mat-horizontal-stepper #stepper [linear]="true" labelPosition="bottom">
  <!-- STEP 1 START -->
    <mat-step 
       state="phone"
       fxLayout="row"
       fxLayoutAlign="center center"
       [completed]="!!selectedServices?.length">
       <div fxFlex="60">
          <app-service-selection 
             [serviceDefinitions]="serviceDefinitions" 
             (selected)="onServiceSelected()">
          </app-service-selection>

          <button 
             mat-raised-button 
             color="primary" 
             (click)="goToServiceProviderStep(stepper)"
             [disabled]="!selectedServices || !selectedServices.length">
            Next
         </button>
       </div>
    </mat-step>
  <!-- STEP 1 END -->

  <!-- STEP 2 START -->
    <mat-step  
       state="person"
       fxLayout="row" 
       fxLayoutAlign="space-between center"
       [completed]="!!selectedEmployee">
        <div fxFlex=60>
          <app-staff-selection
             [employees]="employees"
             (selected)="onStaffSelected($event)">
          </app-staff-selection>
        </div>
    </mat-step>
    <!-- STEP 2 END -->

    <!-- STEP 3 START -->
    <mat-step state="today">
      <div class="select-appointment-container">
        <mat-tab-group mat-align-tabs="center">
          <mat-tab *ngFor="let day of days" [label]="day.format('MMM DD')">
            <ng-template matTabContent>
              <div *ngFor="let slot of slotsFor(day)">
                {{ slot.start_time }}
              </div>
            </ng-template>
          </mat-tab>
        </mat-tab-group>
      </div>

    </mat-step>
    <!-- STEP 3 END -->

    <!-- STEP 4 START -->
    <mat-step>
      <p>You're welcome.</p>
    </mat-step>
    <!-- STEP 4 END -->
  
    <!-- Icon overrides. -->
    <ng-template matStepperIcon="phone">
      <mat-icon>call_end</mat-icon>
    </ng-template>
    <ng-template matStepperIcon="chat">
      <mat-icon>forum</mat-icon>
    </ng-template>
  </mat-horizontal-stepper>
