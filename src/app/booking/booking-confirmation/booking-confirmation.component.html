<h1 class="selection-heading" *ngIf="!appState.loggedIn">Sign in to continue</h1>
<app-login *ngIf="!appState.loggedIn"></app-login>

<h1 class="selection-heading" *ngIf="appState.loggedIn">Confirm and book</h1>
<mat-card class="selection-card mat-elevation-z2" 
    fxLayout="column" 
    fxLayoutGap="12px"
    *ngIf="appState.loggedIn">

    <div fxLayout="column">
        <h2 class="mat-title">{{ company.name }}</h2>
        <p>{{ company.address }}</p>
    </div>

    <div fxLayout="column">
        <h2 class="mat-title">{{ employee.name }}</h2>
        <p>
            {{ slot.start_time | date:'EEEE, MMMM d, h:mm a' }} - 
            {{ bookingEndTime | date:'h:mm a' }}
        </p>
    </div>

    <div fxLayout="row">
        <mat-divider></mat-divider>
    </div>
    
    <div fxLayout="column" *ngFor="let service of services">
        <div fxLayout="row" fxLayoutAlign="space-between center">
            <h2>{{ service.name }}</h2>
            <h2>{{ service.price | appCurrency }}</h2>
        </div>
        <p>{{ service.duration | appDuration }}</p>
    </div>

    <div fxLayout="row">
        <mat-divider></mat-divider>
    </div>

    <div class="total-row" fxLayout="row" fxLayoutAlign="space-between center">
        <h1>Total</h1>
        <h1>{{ bookingTotal | appCurrency }}</h1>
    </div>
</mat-card>

<div class="button-container" fxLayout="row" fxLayoutAlign="center">
    <button mat-flat-button 
        fxFlex
        *ngIf="appState.loggedIn"
        color="primary" 
        (click)="this.createBooking()"
        [disabled]="appState.loading">
        Book
    </button>
</div>
